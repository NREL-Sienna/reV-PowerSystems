schema: '2.0'
stages:
  Run reVX with simple plant builder on SIIP:
    cmd: python siip_simple_plant_builder.py
    deps:
    - path: data/naris_rev_wtk_gen_colorado_2007.h5
      md5: 74333dd27b95c4e86c708522423e58fd
      size: 89884332
    - path: data/siip_meta.csv
      md5: bd853fa07fd32faa6556b19b3d1adec2
      size: 116
    - path: data/wtk_coe_2017_cem_v3_wind_conus_multiyear_colorado.csv
      md5: 576de6bce7aa966fe4c70136ccb969a2
      size: 3704336
    - path: siip_simple_plant_builder.py
      md5: 423cbecea204a3b03ba0f74c9bfb47e1
      size: 979
    outs:
    - path: data/siip_example_simple_plant_builder.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: data/siip_example_simple_plant_builder_lookahead.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
  Convert reVX output to timeseries pointer json:
    cmd: python test_no_lookahead.py
    deps:
    - path: ../rev_powersystems/revx_output_siip.py
      md5: fa1fa1dcd64b1a04b261e74f03cb13b1
      size: 9409
    - path: data/siip_example_simple_plant_builder.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: test_no_lookahead.py
      md5: ad7df663d82ff0db6e6d917f2ce89029
      size: 427
    outs:
    - path: data/siip_timeseries.csv
      md5: 4675c319a3f31d49bf9b549c32d81926
      size: 418501
    - path: data/siip_timeseries_metadata.json
      md5: 08eaca967ac14bfdacd7dee02ebf9800
      size: 558
  Create powerSystems system:
    cmd: julia --project create_basic_sys.jl
    deps:
    - path: create_basic_sys.jl
      md5: f93e607421060bf1a465aa3213330030
      size: 386
    - path: data/siip_timeseries.csv
      md5: 4675c319a3f31d49bf9b549c32d81926
      size: 418501
    - path: data/siip_timeseries_metadata.json
      md5: 7f86fba2d2ee4ccb6c55a593d1d8c857
      size: 558
    outs:
    - path: data/sys.json
      md5: a18845a18f700f0d2782a3ead2c53b82
      size: 8173
    - path: data/sys_time_series_storage.h5
      md5: 9f0e6d0ebed88165786ad1f41c501602
      size: 191072
    - path: data/sys_validation_descriptors.json
      md5: d3068e5c3653d4fb15b52eb4771c46e4
      size: 225179
  Create powerSystems system without lookahead:
    cmd: julia --project create_basic_sys.jl
    deps:
    - path: create_basic_sys.jl
      md5: bbad8c9803dbd9939b06a2232f609f89
      size: 615
    - path: data/siip_timeseries.csv
      md5: 4675c319a3f31d49bf9b549c32d81926
      size: 418501
    - path: data/siip_timeseries_metadata.json
      md5: 08eaca967ac14bfdacd7dee02ebf9800
      size: 558
    outs:
    - path: basic_system/plant1_max_active_power.png
      md5: 0359c9d397870d5231b429550f29a0ed
      size: 42572
    - path: basic_system/sys.json
      md5: 06797f1fb48abfede7544aa56d717873
      size: 11743
    - path: basic_system/sys_metadata.json
      md5: fb985f27b8f95d3cdcb8e277c18d3663
      size: 420
    - path: basic_system/sys_time_series_storage.h5
      md5: e8c0397d15f17423aeaabbcc0a493b97
      size: 187800
    - path: basic_system/sys_validation_descriptors.json
      md5: 61ac2a5f70645ce0048ea0593b244491
      size: 270549
  Convert lookahead reVX output to timeseries pointers json:
    cmd: python test_lookahead.py
    deps:
    - path: ../rev_powersystems/revx_output_siip.py
      md5: fa1fa1dcd64b1a04b261e74f03cb13b1
      size: 9409
    - path: data/siip_example_simple_plant_builder.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: data/siip_example_simple_plant_builder_lookahead.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: test_lookahead.py
      md5: 18e502efed7b95470273d895de4ab4ae
      size: 576
    outs:
    - path: data/lookahead_timeseries/
      md5: 3a69c50a4b98578549835bb3a1cc7bcb.dir
      size: 1012181
      nfiles: 3
    - path: data/siip_lookahead_metadata.json
      md5: 284c01d38ab39cb45a8f1c5b16dba0ff
      size: 822
  Create powerSystems system with lookahead:
    cmd: julia --project create_lookahead_sys.jl
    deps:
    - path: create_lookahead_sys.jl
      md5: 7008fb8cbe0c561d6f945cb1a71dd189
      size: 662
    - path: data/lookahead_timeseries/
      md5: 3a69c50a4b98578549835bb3a1cc7bcb.dir
      size: 1012181
      nfiles: 3
    - path: data/siip_lookahead_metadata.json
      md5: 284c01d38ab39cb45a8f1c5b16dba0ff
      size: 822
    outs:
    - path: lookahead_system/plant1_max_active_power.png
      md5: a11b4213e52411a8fca3b733125431c8
      size: 12498
    - path: lookahead_system/sys.json
      md5: c338f4eceebda0fdda3147b303683066
      size: 12213
    - path: lookahead_system/sys_metadata.json
      md5: 9daf072db73cb0abb55f048c3b0cb2b2
      size: 417
    - path: lookahead_system/sys_time_series_storage.h5
      md5: 2083e35776fd8e87a31c1c597995f7e4
      size: 344839
    - path: lookahead_system/sys_validation_descriptors.json
      md5: 61ac2a5f70645ce0048ea0593b244491
      size: 270549
